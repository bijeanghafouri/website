[{"authors":null,"categories":null,"content":"Bijean Ghafouri is a Provost Doctoral fellow at the University of Southern California (USC). Before starting his Ph.D., he completed an undergraduate degree at the University of Montreal. During the 2019-2020 academic year, he was Fulbright-Killam fellow and spent a semester at the Center for Data Science at American University, DC.\nHis current research focuses on developing and using computational methods to understand electoral persuasion, campaigns, political communication and behavior. Methodologically, he analyzes big data on social media with text and network analysis. He is a member of the Networks \u0026amp; Society + Humans \u0026amp; Machines lab in the Machine Intelligence and Data Science (MINDS) group at the Information Sciences Institute.\n  Download his C.V.\n","date":1620345600,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":1620345600,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"https://bijean.io/author/bijean-ghafouri/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/author/bijean-ghafouri/","section":"authors","summary":"Bijean Ghafouri is a Provost Doctoral fellow at the University of Southern California (USC). Before starting his Ph.D., he completed an undergraduate degree at the University of Montreal. During the 2019-2020 academic year, he was Fulbright-Killam fellow and spent a semester at the Center for Data Science at American University, DC.","tags":null,"title":"Bijean Ghafouri","type":"authors"},{"authors":["吳恩達"],"categories":null,"content":"吳恩達 is a professor of artificial intelligence at the Stanford AI Lab. His research interests include distributed robotics, mobile computing and programmable matter. He leads the Robotic Neurobiology group, which develops self-reconfiguring robots, systems of self-organizing robots, and mobile sensor networks.\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Sed neque elit, tristique placerat feugiat ac, facilisis vitae arcu. Proin eget egestas augue. Praesent ut sem nec arcu pellentesque aliquet. Duis dapibus diam vel metus tempus vulputate.\n","date":-62135596800,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":-62135596800,"objectID":"da99cb196019cc5857b9b3e950397ca9","permalink":"https://bijean.io/author/%E5%90%B3%E6%81%A9%E9%81%94/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/author/%E5%90%B3%E6%81%A9%E9%81%94/","section":"authors","summary":"吳恩達 is a professor of artificial intelligence at the Stanford AI Lab. His research interests include distributed robotics, mobile computing and programmable matter. He leads the Robotic Neurobiology group, which develops self-reconfiguring robots, systems of self-organizing robots, and mobile sensor networks.","tags":null,"title":"吳恩達","type":"authors"},{"authors":null,"categories":null,"content":"Flexibility This feature can be used for publishing content such as:\n Online courses Project or software documentation Tutorials  The courses folder may be renamed. For example, we can rename it to docs for software/project documentation or tutorials for creating an online course.\nDelete tutorials To remove these pages, delete the courses folder and see below to delete the associated menu link.\nUpdate site menu After renaming or deleting the courses folder, you may wish to update any [[main]] menu links to it by editing your menu configuration at config/_default/menus.toml.\nFor example, if you delete this folder, you can remove the following from your menu configuration:\n[[main]] name = \u0026quot;Courses\u0026quot; url = \u0026quot;courses/\u0026quot; weight = 50  Or, if you are creating a software documentation site, you can rename the courses folder to docs and update the associated Courses menu configuration to:\n[[main]] name = \u0026quot;Docs\u0026quot; url = \u0026quot;docs/\u0026quot; weight = 50  Update the docs menu If you use the docs layout, note that the name of the menu in the front matter should be in the form [menu.X] where X is the folder name. Hence, if you rename the courses/example/ folder, you should also rename the menu definitions in the front matter of files within courses/example/ from [menu.example] to [menu.\u0026lt;NewFolderName\u0026gt;].\n","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"59c3ce8e202293146a8a934d37a4070b","permalink":"https://bijean.io/courses/example/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/courses/example/","section":"courses","summary":"Learn how to use Academic's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Overview","type":"docs"},{"authors":null,"categories":null,"content":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 2 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"74533bae41439377bd30f645c4677a27","permalink":"https://bijean.io/courses/example/example1/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example1/","section":"courses","summary":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":null,"title":"Example Page 1","type":"docs"},{"authors":null,"categories":null,"content":"Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 4 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"1c2b5a11257c768c90d5050637d77d6a","permalink":"https://bijean.io/courses/example/example2/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example2/","section":"courses","summary":"Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":null,"title":"Example Page 2","type":"docs"},{"authors":null,"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"7ecdd4a6de39fb3c3d4ff43482669f6a","permalink":"https://bijean.io/project/projects/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/project/projects/","section":"project","summary":"","tags":null,"title":"Project","type":"project"},{"authors":[],"categories":null,"content":" Click on the Slides button above to view the built-in slides feature.   Slides can be added in a few ways:\n Create slides using Academic\u0026rsquo;s Slides feature and link using slides parameter in the front matter of the talk file Upload an existing slide deck to static/ and link using url_slides parameter in the front matter of the talk file Embed your slides (e.g. Google Slides) or presentation video on this page using shortcodes.  Further talk details can easily be added to this page using Markdown and $\\rm \\LaTeX$ math code.\n","date":1906549200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1906549200,"objectID":"96344c08df50a1b693cc40432115cbe3","permalink":"https://bijean.io/talk/example/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/talk/example/","section":"talk","summary":"An example talk using Academic's Markdown slides feature.","tags":[],"title":"Example Talk","type":"talk"},{"authors":["Bijean Ghafouri"],"categories":null,"content":" This is a working paper, please do not cite without author\u0026rsquo;s permission.   ","date":1620345600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1620345600,"objectID":"1929ffc36219b3dd0c799a3c95ccf8b2","permalink":"https://bijean.io/research/donations/","publishdate":"2021-01-01T00:00:00Z","relpermalink":"/research/donations/","section":"research","summary":"(Working Paper)","tags":"Persuasion, political communication, experiment","title":"The behavioral foundations of donations in politics","type":"research"},{"authors":["Bijean Ghafouri"],"categories":null,"content":" This is a working paper, please do not cite without author\u0026rsquo;s permission.   ","date":1620345600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1620345600,"objectID":"09795079d1f54d080ce097c777b7e6da","permalink":"https://bijean.io/research/extremists/","publishdate":"2021-01-01T00:00:00Z","relpermalink":"/research/extremists/","section":"research","summary":"(Working Paper)","tags":"Politcal extremism, campaigns, computational social science, regression-discontinuity","title":"The role of political extremists in electoral campaigns","type":"research"},{"authors":null,"categories":null,"content":"  Programs must be written for people to read, and only incidentally for machines to execute.\n― Harold Abelson, Structure and Interpretation of Computer Programs\nHow you organize your data analysis project is crucial for many reasons. Without a pre-defined structure to your projects, you are likely to forget years or even months from now what you have done looking back at projects. This may be the case when you get back on a dormant project, or receive major revisions in an R\u0026amp;R six months after submission. Projects that involve collaboration between multiple members should also have a unified structure understand of how their analysis is structured to avoid any mistake.\nWe call this your workflow. Although many will have seen this in the context of their coursework, social science students are rarely taught this. Your project should be divided between tasks. Tasks are individual parts of a larger project that are each self-contained and self-documented. The goal of dividing your project in tasks is to make each step of your project as clear as possible. Also, this allows you to facilitate testing and error handling on a higher level. Tasks structure The first task is to import your data. This tasks has at minimum three directories: input, output and src (source).\n input contains raw files for task to read output contains files ready to go src contains scripts to read input and write to output  Let’s see what a basic folder structure looks like. These folder names may change based on field or personal preference, but here they are mostly standard.\n │ └─── docs └─── input └─── output └─── src The input never get modified. You will only drop raw data files into it. This is the whole point of having scripts in src, to read and modify the input. Once transformed, we can place the new files in output. The reason why you should never modify input files in this directory is because you should always keep your raw files. This is key in reproducibility since we need to trace back your analysis from the very start of your project, i.e. your raw files. Furthermore, the objective of src is not to clean and manipulate data on a deep level, but rather to create a structured, rectangular datasets ready for further analyses, dumped into output. In subsequent tasks, you should take in the files from output as inputs to clean and analyze specifically for the goal of this part. You can imagine this as a chain-rule for a structured flow of your data.\n Structuring your task in R To create these folder, you can run the following commands. This should be at the top of any script.\n# ------------ packages ---------- require(pacman) pacman::p_load(here) # ---------- workflow ------------- # set directory path \u0026lt;- here::here() setwd(path) # set up file paths dir.create(paste0(path,\u0026quot;/\u0026quot;,\u0026quot;input\u0026quot;,sep=\u0026quot;\u0026quot;),showWarnings = T) dir.create(paste0(path,\u0026quot;/\u0026quot;,\u0026quot;output\u0026quot;,sep=\u0026quot;\u0026quot;),showWarnings = T) dir.create(paste0(path,\u0026quot;/\u0026quot;,\u0026quot;src\u0026quot;,sep=\u0026quot;\u0026quot;),showWarnings = T) pathin = paste0(path,\u0026quot;/\u0026quot;,\u0026quot;input\u0026quot;,sep=\u0026quot;\u0026quot;) pathout = paste0(path,\u0026quot;/\u0026quot;,\u0026quot;ouput\u0026quot;,sep=\u0026quot;\u0026quot;) pathsrc = paste0(path,\u0026quot;/\u0026quot;,\u0026quot;scr\u0026quot;,sep=\u0026quot;\u0026quot;) This will create three folders for each component of this tasks. You may notice that I set the directory with {here}. This package is extremely useful for others that may want to reproduce your workflow on their local machines. Given that everyone has different directory structures, this package allows you to limit the exposure of your local setup.\nThe input folder will contain all data files you need for this project (all subsequent tasks). Then, you will read them in your script, contained in the src folder, to then export to the output folder (often in a .csv format). Following tasks will read in data files from output that they each need.\nI have the following structure for a single analysis task that comes directly from the HRDA Group. You can have many analysis tasks, depending on the nature of your project.\n├── import │ ├── Makefile │ ├── input │ ├── output │ └── src ├── clean │ ├── Makefile │ ├── input │ ├── output │ └── src ├── model │ ├── Makefile │ ├── input │ ├── output │ └── src └── write ├── Makefile ├── input ├── output └── src The goal of the following structure is create a linear flow to how your data is transformed. For example, your data from into the import directory raw. The clean directory will take in the data from the output folder of import and process it. The model directory will then itself take the output data from clean and process it. In this step, you will likely create a tables and figs folder in the output folder. Finally, write will follow the same flow. For specific file names, I recommend following these best practices\nRemember, this structure is for one task only. Depending on the nature of your project, or personal preference, you may need only one task or more.\n Self-Documentation Many will dislike the use of documentation in the classic format of a .txt file that you update regularly as you move forward with your project. You probably experienced this where, at the end of the day, your code almost never keeps up with your documentation. This is why it is strongly recommended to self-document your code within your scripts. This will allow you to document your code within your script as-you-go. Obviously, you will continue to keep track of what you do in your documentation. The difference is that your documentation will be higher-level instructions, while your self-documentation will follow your script closely. In the case where your documentation is out-of-date, you will be able to rely on your script to reconstruct the steps of your project.\n Optional directories You may wish to incorporate personal workflow items into this system. First, it is very well possible that you use notebooks or markdown files to test your code as you write. Although this might be a very good solution for testing, it is recommended that you always have a final script that contains all your chunks in the src folder. If you use notebooks, put these .rmd or .ipynb files in a note directory.\nYou may have noticed that the import task structure contains a docs directory. This is for any documentation that comes with data you are using. This will often be the case with survey data, or data from other public sources.\n Makefile and {drake} You may notice that each task contains a makefile. This file is to automate the execution of all the scripts from the src folder. Although in other programming languages you might need to manually create a makefile, in R you can use the {drake} package (more info here).\nThere a numerous tools to create and automate workflow styles. Many use targets, like {drake}. Here are a few:\n ProjectTemplate workflowr rrtools ordely fnmate dflow drake represtool starters  The {drake} package makes your code focus on functions, rather than simple scripts. Although it has the same intention as makefiles, the package’s logic is embedded within a dataframe, following R’s ecosystem.\n Notebooks Notebooks combines the code, text and visualization in one document. This may help with reproducibility because each chunk is immediately followed by its output. So what are the downsides? The main issue with notebooks is the lack of structure in running chunks. Although they are sequentially ordered, you are most probably running them in all sorts of ways to fix bugs or add features. This lack of consistency is likely to produce more problems than not. For more on problems associated with notebooks, see this talk by Joel Grus.\nNotebooks remain useful for the courses, exploratory data analysis, reports (where more text than code) and dashboards.\n Project as an R Package As per McBain’s blog post, although creating an R package is used by many, there are some pitfalls associated with it. Although it is a great way to automate your project with testing and solid structure, there remains the little payoff, and the signal to noise ratio is simply much too low. Another issue is the fact that not everyone is comfortable with the package environment, even if they are a domain expert. This defeats the purpose of reproducibility since the public’s access becomes limited.\n Alternatives to project structure We will often see directories and project structures that follow a flow based on the content of the folders rather than the order of the project itself. For example, projects will be organized with the following folders: data, analysis, tables-figures. Although this does fits the purpose of reproducibility, it does not flow with the logic of the project. You should have different folders for different tasks. In the example above, many tasks can be included in the analysis folder, like cleaning and modeling. Some may point out that this is just a discrepancy in the placement of folders in different directories, which is essentially the case. However, the problem lies within how someone who has never worked on this project will be able to understand its logic.\nFinally, you can find great posts here, here and here to help you structure your projects.\nAt the end of the day, the goal for a clear project structure is to convey what exactly you are doing to everyone else that may have access to it.\n Patrick Ball’s Principles of Data Processing This is from his great talk. Basically, he gives his take on ‘where to put your stuff’.\nHis main argument is that the way documentation is understood makes us take it for granted, when it is actually central to our code. How do we write code and organize projects to know what you did a few months from now? It is also meant to organize your work to facilitate collaboration with colleagues where they will be able to understand exactly what you are doing.\nHe identifies four goals for statistical workflow:\n Transparency: possible to review every task\n Auditbility: possible to test the result of every task, where the test is often done in a different computer language and by different analyst.\n Reproducibility: any scientist with the same tools and the same code could recalculate the results and get the same answers.\n Scalabilty: ‘more than 2’ input files, updates to your input files, analysts who are going to work on the project, results in the report you will publish, different analyses which derive from the inputs, languages needed in the analysis, etc.\n  Design Tactics  Think like a pipeline for your flow\n Project flow with makefiles\n Everything in code: all the changes to the data are written in an executable file. If it’s not in code, how are you going to remember it? You can’t depend on yourself to remember something that needs to be done. Not in documentation, because code evolves much faster than documentation. You will thus not know if the documentation follows exactly what is happening.\n Simpler is better, but don’t take this to the extreme.\n Explicit is better than implicit, but don’t take this to the extreme.\n Exceptions are bad but sometimes necessary, but don’t take this to the extreme.\n Use Unix, bash, ssh.\n Get conformable with the terminal. Your project will be available everywhere.\n Separate data from logic.\n   The Problems with documentation Documentation for code is never complete, on point, up to date. You will never know if the documentation is reliable because the probability of a mismatch is too big given how we behave when coding. We should not trust ourselves, because too many mistakes happen.\nThe goal of documentation, making clear what you are going, is great and incredibly important. However, it is the way we satisfy this goal that leads to deception.\nFor things that do not change much, like input data, exported data and common libraries, classic documentation is appropriate. However, it is for code that most likely changes extremely often that this will not do. In fact, a good project is self-documenting.\nOn version control, you should keep track of the process of doing the project: completeness, todos, bugs, receiving data, shipping results. Do not document the content of a project in version control, because you can understand the content simply by reading the content. It is useless to repeat yourself twice.\n Code Flow Structure  Import: Read data from input with src files and write to output  This largely consists in reading all types of different data and writing to a rectangular .csv file.  Clean: The data from output in the import task goes into to input directory of the clean task.  Do you notice the linear flow here?   … and so on.\n Self-Documentation, symbolic links and metadata. The way you get your tasks done is with structure, not documentation. You need to tie your tasks together in a coherent and consistent manner in order to facilitate the integration of others and you’re eventual reintegration to your project.\nSymlinks show the relationship among tasks. Task names describe what happens in a task. Nothing should be done by hand – put down the mouse.\n Symlinks  Makefiles This is allow you to use the command line without specific execution code. All you need to call is the makefile, and for all your projects.\n  ","date":1601856000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1601856000,"objectID":"a4ec83f44b301ab2d847e6e8a395fb96","permalink":"https://bijean.io/blog/tutorials/workflow/workflow/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/blog/tutorials/workflow/workflow/","section":"blog","summary":"Programs must be written for people to read, and only incidentally for machines to execute.\n― Harold Abelson, Structure and Interpretation of Computer Programs\nHow you organize your data analysis project is crucial for many reasons.","tags":null,"title":"Workflow Structure","type":"blog"},{"authors":null,"categories":null,"content":"  R for Canadians\nUCI Data Repository\nCity of Chicago\nSoftware for Reproducibility\n","date":1598745600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1598745600,"objectID":"f73731f631b4a7182249597beb065bb5","permalink":"https://bijean.io/resources/datasources/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/resources/datasources/","section":"resources","summary":"R for Canadians\nUCI Data Repository\nCity of Chicago\nSoftware for Reproducibility","tags":null,"title":"Data Sources","type":"resources"},{"authors":null,"categories":null,"content":" Introduction to Bash and the command line\nThe Unix Shell\nBig Book of R (+100 Books)\n–\nMy favorite blogs, newsletters, substacks:\nEdge\nPudding\nFWIW\n","date":1598745600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1598745600,"objectID":"90c75f1759d3082f3ac4c5670fd4b884","permalink":"https://bijean.io/resources/tutorials/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/resources/tutorials/","section":"resources","summary":"Introduction to Bash and the command line\nThe Unix Shell\nBig Book of R (+100 Books)\n–\nMy favorite blogs, newsletters, substacks:\nEdge\nPudding\nFWIW","tags":null,"title":"Tutorials","type":"resources"},{"authors":["Bijean Ghafouri"],"categories":null,"content":" Click the Slides button above to demo Academic\u0026rsquo;s Markdown slides feature.   Supplementary notes can be added here, including code and math.\n","date":1554595200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1554595200,"objectID":"557dc08fd4b672a0c08e0a8cf0c9ff7d","permalink":"https://bijean.io/publication/preprint/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/preprint/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example preprint / working paper","type":"publication"},{"authors":[],"categories":[],"content":"Create slides in Markdown with Academic Academic | Documentation\n Features  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides   Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export: E   Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026quot;blueberry\u0026quot; if porridge == \u0026quot;blueberry\u0026quot;: print(\u0026quot;Eating...\u0026quot;)   Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = ;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\n Fragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}} {{% fragment %}} **Two** {{% /fragment %}} {{% fragment %}} Three {{% /fragment %}}  Press Space to play!\nOne  Two  Three \n A fragment can accept two optional parameters:\n class: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears   Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}} - Only the speaker can read these notes - Press `S` key to view {{% /speaker_note %}}  Press the S key to view the speaker notes!\n Only the speaker can read these notes Press S key to view    Themes  black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links    night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links   Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026quot;/media/boards.jpg\u0026quot; \u0026gt;}} {{\u0026lt; slide background-color=\u0026quot;#0000FF\u0026quot; \u0026gt;}} {{\u0026lt; slide class=\u0026quot;my-style\u0026quot; \u0026gt;}}   Custom CSS Example Let\u0026rsquo;s make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1, .reveal section h2, .reveal section h3 { color: navy; }   Questions? Ask\nDocumentation\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1549324800,"objectID":"0e6de1a61aa83269ff13324f3167c1a9","permalink":"https://bijean.io/slides/example/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/slides/example/","section":"slides","summary":"An introduction to using Academic's Slides feature.","tags":[],"title":"Slides","type":"slides"},{"authors":null,"categories":null,"content":"","date":1461715200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1461715200,"objectID":"d1311ddf745551c9e117aa4bb7e28516","permalink":"https://bijean.io/project/external-project/","publishdate":"2016-04-27T00:00:00Z","relpermalink":"/project/external-project/","section":"project","summary":"An example of linking directly to an external project website using `external_link`.","tags":["Demo"],"title":"External Project","type":"project"},{"authors":null,"categories":null,"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1461715200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1461715200,"objectID":"8f66d660a9a2edc2d08e68cc30f701f7","permalink":"https://bijean.io/project/internal-project/","publishdate":"2016-04-27T00:00:00Z","relpermalink":"/project/internal-project/","section":"project","summary":"An example of using the in-built project page.","tags":["Deep Learning"],"title":"Internal Project","type":"project"},{"authors":["Bijean Ghafouri","Robert Ford"],"categories":null,"content":" Click the Cite button above to demo the feature to enable visitors to import publication metadata into their reference management software.    Click the Slides button above to demo Academic\u0026rsquo;s Markdown slides feature.   Supplementary notes can be added here, including code and math.\n","date":1441065600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1441065600,"objectID":"966884cc0d8ac9e31fab966c4534e973","permalink":"https://bijean.io/publication/journal-article/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/journal-article/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example journal article","type":"publication"},{"authors":["Bijean Ghafouri","Robert Ford"],"categories":null,"content":" Click the Cite button above to demo the feature to enable visitors to import publication metadata into their reference management software.    Click the Slides button above to demo Academic\u0026rsquo;s Markdown slides feature.   Supplementary notes can be added here, including code and math.\n","date":1372636800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1372636800,"objectID":"69425fb10d4db090cfbd46854715582c","permalink":"https://bijean.io/publication/conference-paper/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/conference-paper/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example conference paper","type":"publication"},{"authors":null,"categories":null,"content":" {anesrake} R Package Tutorial Survey research is often faced with a representativeness issues in sample. The survey sample might be different in important ways from the true population. To adjust for these errors, we can use raking adjustment. Raking allows us to select variables in our sample that will be adjusted based on true population parameters.\nThe following tutorial shows how to use {anesrake}, an r package that computes the weights for you.\nThe goal is to identify variables, often demographic, to weight on. The statistical software compares the variables in your sample to the population to compute the weights.\nFor more information on the package, please refer to the following document: https://electionstudies.org/wp-content/uploads/2018/04/nes012427.pdf\nDownload FILE\nrequire(pacman) p_load(tidyverse, anesrake, weights) dat \u0026lt;- read_csv(\u0026#39;donations.csv\u0026#39;) dat \u0026lt;- as.data.frame(dat) # Set target variables as factors (important!) dat$income \u0026lt;- as.factor(dat$income) dat$education \u0026lt;- as.factor(dat$education)  Data simulation First, we need to find our population-level estimates. In some cases, you will have access to population-level data from which you can draw your point estimates. However, you are likely to not have direct access to these data. You will need to find these statistics from other sources.\nIn this example, I use data from the United States census to find the proportions of each category in my variables. I find population-level education levels here, and income levels here.\nFrom census data, we can find population-level marginal proportions for the variables we will weight on. We will be weighting on two variables: income and education. However, you can (perhaps ideally) weight on more variables, including sex, ethnicity, etc. Also, note that these categories are somewhat arbitrary. In a real survey, you are most likely to categorize income and education in other ways.\nincome \u0026lt;- c(\u0026#39;20k\u0026#39;, \u0026#39;50k\u0026#39;, \u0026#39;100k\u0026#39;) income_prop \u0026lt;- c(.35, .50, .15) education \u0026lt;- c(\u0026#39;highschool\u0026#39;, \u0026#39;college\u0026#39;, \u0026#39;graduate\u0026#39;) education_prop \u0026lt;- c(.376, .497, .127) population \u0026lt;- data_frame(income, education, income_prop, education_prop) ## Warning: `data_frame()` was deprecated in tibble 1.1.0. ## ℹ Please use `tibble()` instead. We identify the list of variables we want to weight on by creating a list of ‘targets’. It is important to make sure that the variable names in the dataset and in the population are the same.\ntarget \u0026lt;- with(population, list( income = weights::wpct(income, income_prop), education = weights::wpct(education, education_prop) )) Now that the population-level proportions are dealt with, we can take a look at our survey results. Using the weights::wpct function, let’s estimate the proportions of our target variables in the survey.\nweights::wpct(dat$income) ## 100k 20k 50k ## 0.2058824 0.4325260 0.3615917 weights::wpct(dat$education) ## college graduate highschool ## 0.5432526 0.3460208 0.1107266 How do our survey proportions compare to our population proportions?\ntarget$income ## 100k 20k 50k ## 0.15 0.35 0.50 target$education ## college graduate highschool ## 0.497 0.127 0.376 Seems like we have an over-representation of respondents with an income between 50k and 100k, and an over-representation of graduate and college students. Well, this is what raking is for – let’s fix this!\nThe {anesrake} R package uses the ANES weighting algorithm to provide weights to any sample. We computed all the necessary inputs above. All we need to do is plug-and-play. There are many function arguments we can specify that I do not include here. The weightvec argument allows us to supply a vector of weights if we are using a dataset that already offers weights. We could also use the filter argument to supply a binary vector indicating which observations to include/exclude for weighting. For example, we may want to exclude observations for which the respondent did not provide an answer to the outcome question.\nraking \u0026lt;- anesrake(target, # target list identified above dat, # survey dataset dat$caseid, # unique identifier for each respondent (1:nrow(dat)) cap = 5, # Maximum value for any given weight choosemethod = \u0026quot;total\u0026quot;, # How are parameters compared for selection (other options include \u0026#39;average\u0026#39; and \u0026#39;max\u0026#39;) type = \u0026quot;pctlim\u0026quot;, # What targets should be used to weight pctlim = 0.05 # Threshold for deviation ) ## [1] \u0026quot;Raking converged in 26 iterations\u0026quot; raking_summary \u0026lt;- summary(raking) raking_summary ## $convergence ## [1] \u0026quot;Complete convergence was achieved after 26 iterations\u0026quot; ## ## $base.weights ## [1] \u0026quot;No Base Weights Were Used\u0026quot; ## ## $raking.variables ## [1] \u0026quot;income\u0026quot; \u0026quot;education\u0026quot; ## ## $weight.summary ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 0.2557 0.5272 0.6540 1.0000 1.3487 5.0001 ## ## $selection.method ## [1] \u0026quot;variable selection conducted using _pctlim_ - discrepancies selected using _total_.\u0026quot; ## ## $general.design.effect ## [1] 1.966204 ## ## $income ## Target Unweighted N Unweighted % Wtd N Wtd % Change in % Resid. Disc. ## 100k 0.15 238 0.2058824 173.4 0.15 -0.05588235 -3.330669e-16 ## 20k 0.35 500 0.4325260 404.6 0.35 -0.08252595 -2.331468e-15 ## 50k 0.50 418 0.3615917 578.0 0.50 0.13840830 2.664535e-15 ## Total 1.00 1156 1.0000000 1156.0 1.00 0.27681661 5.329071e-15 ## Orig. Disc. ## 100k -0.05588235 ## 20k -0.08252595 ## 50k 0.13840830 ## Total 0.27681661 ## ## $education ## Target Unweighted N Unweighted % Wtd N Wtd % Change in % ## college 0.497 628 0.5432526 574.532 0.497 -0.0462526 ## graduate 0.127 400 0.3460208 146.812 0.127 -0.2190208 ## highschool 0.376 128 0.1107266 434.656 0.376 0.2652734 ## Total 1.000 1156 1.0000000 1156.000 1.000 0.5305467 ## Resid. Disc. Orig. Disc. ## college -5.551115e-17 -0.0462526 ## graduate 1.387779e-16 -0.2190208 ## highschool 0.000000e+00 0.2652734 ## Total 1.942890e-16 0.5305467 We’ve not got our raking results. Let’s look at the specifics for each target variable.\nraking_summary$income ## Target Unweighted N Unweighted % Wtd N Wtd % Change in % Resid. Disc. ## 100k 0.15 238 0.2058824 173.4 0.15 -0.05588235 -3.330669e-16 ## 20k 0.35 500 0.4325260 404.6 0.35 -0.08252595 -2.331468e-15 ## 50k 0.50 418 0.3615917 578.0 0.50 0.13840830 2.664535e-15 ## Total 1.00 1156 1.0000000 1156.0 1.00 0.27681661 5.329071e-15 ## Orig. Disc. ## 100k -0.05588235 ## 20k -0.08252595 ## 50k 0.13840830 ## Total 0.27681661 raking_summary$education ## Target Unweighted N Unweighted % Wtd N Wtd % Change in % ## college 0.497 628 0.5432526 574.532 0.497 -0.0462526 ## graduate 0.127 400 0.3460208 146.812 0.127 -0.2190208 ## highschool 0.376 128 0.1107266 434.656 0.376 0.2652734 ## Total 1.000 1156 1.0000000 1156.000 1.000 0.5305467 ## Resid. Disc. Orig. Disc. ## college -5.551115e-17 -0.0462526 ## graduate 1.387779e-16 -0.2190208 ## highschool 0.000000e+00 0.2652734 ## Total 1.942890e-16 0.5305467 We can also look at the general effect weighting had on our sample. We see that weighting caused a 96.6% increase in the variance.\nraking_summary$general.design.effect ## [1] 1.966204 With these weights, we are able to append the weights vector to our survey data.\n# Create weights vector and attach to dataset dat$weights \u0026lt;- raking$weightvec What is the effect of weighting on our outcome? (In this example, the outcome refers to donations. 1 = respondent would donate to a political party, 0 = respondent would not donate to a political party)\nwpct(dat$yhat) ## 0 1 ## 0.8132635 0.1867365 wpct(dat$yhat, dat$weights) ## 0 1 ## 0.8623287 0.1376713 If we compare the above result with our original outcome, we see that our sample overestimates the proportion of individuals that would donate to a political party. This is likely caused by an oversample of college graduates and high-income earners.\nThere we go! We now know how to weight our survey samples with the {anesrake} R package.\n ","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"87272ae3a4e72838d8dc5b0b1713e55a","permalink":"https://bijean.io/blog/tutorials/anesrake/anesrake-tutorial/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/blog/tutorials/anesrake/anesrake-tutorial/","section":"blog","summary":"{anesrake} R Package Tutorial Survey research is often faced with a representativeness issues in sample. The survey sample might be different in important ways from the true population. To adjust for these errors, we can use raking adjustment.","tags":null,"title":"Survey raking in R with {anesrake}","type":"blog"}]